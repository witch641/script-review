(()=>{"use strict";var e={3960:(e,r,t)=>{t(3792),t(3362),t(9085),t(9391);var o=t(5130),n=t(6768),a={id:"app",class:"app-container"};function i(e,r,t,i,s,d){var c=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.bF)(c,null,{default:(0,n.k6)((function(e){var r=e.Component;return[(0,n.bF)(o.eB,{name:"page",mode:"out-in"},{default:(0,n.k6)((function(){return[((0,n.uX)(),(0,n.Wv)((0,n.$y)(r)))]})),_:2},1024)]})),_:1})])}const s={name:"App"};var d=t(1241);const c=(0,d.A)(s,[["render",i]]),u=c;var l=t(1387),m={class:"home"},f={class:"actions"};function p(e,r,t,a,i,s){var d=(0,n.g2)("SearchBar"),c=(0,n.g2)("AddRecordForm"),u=(0,n.g2)("GameRecord");return(0,n.uX)(),(0,n.CE)("div",m,[r[3]||(r[3]=(0,n.Lk)("div",{class:"title-container"},[(0,n.Lk)("h1",{class:"title"},"剧本杀复盘记录"),(0,n.Lk)("div",{class:"title-decoration"})],-1)),(0,n.bF)(o.eB,{name:"fade"},{default:(0,n.k6)((function(){return[(0,n.bF)(d,{onSearch:s.handleSearch,class:"search-section"},null,8,["onSearch"])]})),_:1}),(0,n.Lk)("div",f,[(0,n.Lk)("button",{class:"add-btn",onClick:r[0]||(r[0]=function(e){return i.showAddForm=!0})},r[2]||(r[2]=[(0,n.Lk)("span",{class:"btn-icon"},"+",-1),(0,n.Lk)("span",{class:"btn-text"},"添加记录",-1)]))]),(0,n.bF)(o.eB,{name:"fade"},{default:(0,n.k6)((function(){return[i.showAddForm?((0,n.uX)(),(0,n.Wv)(c,{key:0,onClose:r[1]||(r[1]=function(e){return i.showAddForm=!1})})):(0,n.Q3)("",!0)]})),_:1}),(0,n.bF)(o.F,{name:"slide-up",tag:"div",class:"records-list"},{default:(0,n.k6)((function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.filteredRecords,(function(e){return(0,n.uX)(),(0,n.Wv)(u,{key:e.id,record:e,onDelete:s.deleteRecord},null,8,["record","onDelete"])})),128))]})),_:1})])}var v=t(8653),h=t(3180),k={class:"search-container"};function b(e,r,t,a,i,s){return(0,n.uX)(),(0,n.CE)("div",k,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=function(e){return i.searchQuery=e}),onInput:r[1]||(r[1]=function(){return s.handleSearch&&s.handleSearch.apply(s,arguments)}),placeholder:"搜索记录...",class:"search-input"},null,544),[[o.Jo,i.searchQuery]])])}t(6031);const g={name:"SearchBar",data:function(){return{searchQuery:"",debounceTimer:null}},methods:{handleSearch:function(){var e=this;this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){e.$emit("search",e.searchQuery)}),300)}},beforeUnmount:function(){this.debounceTimer&&clearTimeout(this.debounceTimer)}},y=(0,d.A)(g,[["render",b],["__scopeId","data-v-342b4304"]]),L=y;var w=t(4232),F={class:"record-card"},S={class:"record-header"},_={class:"game-name"},T={class:"record-field"},R={class:"record-field"},A={class:"record-field"},C={class:"record-field"},D={class:"multiline-text"},O={class:"record-field"},x={class:"multiline-text"},I={class:"record-actions"};function E(e,r,t,o,a,i){return(0,n.uX)(),(0,n.CE)("div",F,[(0,n.Lk)("div",S,[(0,n.Lk)("h3",_,(0,w.v_)(t.record.gameName||"未命名游戏"),1),(0,n.Lk)("span",{class:(0,w.C4)(["mood-tag",i.moodClass])},(0,w.v_)(t.record.mood||"心情无"),3)]),(0,n.Lk)("div",T,[r[2]||(r[2]=(0,n.Lk)("span",{class:"field-label"},"游戏时间：",-1)),(0,n.Lk)("span",null,(0,w.v_)(i.formattedGameTime),1)]),(0,n.Lk)("div",R,[r[3]||(r[3]=(0,n.Lk)("span",{class:"field-label"},"玩家人数：",-1)),(0,n.Lk)("span",null,(0,w.v_)(t.record.players||"无"),1)]),(0,n.Lk)("div",A,[r[4]||(r[4]=(0,n.Lk)("span",{class:"field-label"},"参与者：",-1)),(0,n.Lk)("span",null,(0,w.v_)(t.record.participants||"无"),1)]),(0,n.Lk)("div",C,[r[5]||(r[5]=(0,n.Lk)("span",{class:"field-label"},"关键线索：",-1)),(0,n.Lk)("p",D,(0,w.v_)(t.record.keyPoints||"无"),1)]),(0,n.Lk)("div",O,[r[6]||(r[6]=(0,n.Lk)("span",{class:"field-label"},"复盘总结：",-1)),(0,n.Lk)("p",x,(0,w.v_)(t.record.summary||"无"),1)]),(0,n.Lk)("div",I,[(0,n.Lk)("button",{class:"edit-btn",onClick:r[0]||(r[0]=function(r){return e.$emit("edit",t.record.id)})},"编辑"),(0,n.Lk)("button",{class:"delete-btn",onClick:r[1]||(r[1]=function(r){return e.$emit("delete",t.record.id)})},"删除")])])}t(3288);const $={name:"GameRecord",props:{record:{type:Object,required:!0}},computed:{formattedGameTime:function(){if(!this.record.gameTime)return"无时间";try{var e=new Date(this.record.gameTime);return isNaN(e.getTime())?"无时间":e.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}catch(r){return console.error("Date formatting error:",r),"无时间"}},moodClass:function(){var e={开心:"mood-happy",紧张:"mood-nervous",沮丧:"mood-sad",如坐针毡:"mood-anxious",收获颇丰:"mood-fulfilled"};return e[this.record.mood]||"mood-default"}}},N=(0,d.A)($,[["render",E],["__scopeId","data-v-19c84d61"]]),P=N;var Q={class:"form-overlay"},U={class:"form-container"},X={class:"form-group"},j={class:"form-group"},V={class:"form-group"},J={class:"form-group"},B={class:"form-group"},q={class:"form-group"},G={class:"form-group"},W={class:"form-actions"},z={type:"submit",class:"submit-btn"};function H(e,r,t,a,i,s){return(0,n.uX)(),(0,n.CE)("div",Q,[(0,n.Lk)("div",U,[(0,n.Lk)("h2",null,(0,w.v_)(s.isEditing?"编辑记录":"添加记录"),1),(0,n.Lk)("form",{onSubmit:r[8]||(r[8]=(0,o.D$)((function(){return s.submitForm&&s.submitForm.apply(s,arguments)}),["prevent"]))},[(0,n.Lk)("div",X,[r[9]||(r[9]=(0,n.Lk)("label",null,"游戏名称：",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=function(e){return i.form.gameName=e}),required:""},null,512),[[o.Jo,i.form.gameName]])]),(0,n.Lk)("div",j,[r[10]||(r[10]=(0,n.Lk)("label",null,"游戏时间：",-1)),(0,n.bo)((0,n.Lk)("input",{type:"datetime-local","onUpdate:modelValue":r[1]||(r[1]=function(e){return i.form.gameTime=e}),required:""},null,512),[[o.Jo,i.form.gameTime]])]),(0,n.Lk)("div",V,[r[12]||(r[12]=(0,n.Lk)("label",null,"心情：",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":r[2]||(r[2]=function(e){return i.form.mood=e}),required:""},r[11]||(r[11]=[(0,n.Fv)('<option value="" data-v-2d30d4f4>请选择心情</option><option value="开心" data-v-2d30d4f4>开心</option><option value="收获颇丰" data-v-2d30d4f4>收获颇丰</option><option value="紧张" data-v-2d30d4f4>紧张</option><option value="如坐针毡" data-v-2d30d4f4>如坐针毡</option><option value="沮丧" data-v-2d30d4f4>沮丧</option>',6)]),512),[[o.u1,i.form.mood]])]),(0,n.Lk)("div",J,[r[13]||(r[13]=(0,n.Lk)("label",null,"玩家人数：",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":r[3]||(r[3]=function(e){return i.form.players=e}),required:"",min:"1"},null,512),[[o.Jo,i.form.players,void 0,{number:!0}]])]),(0,n.Lk)("div",B,[r[14]||(r[14]=(0,n.Lk)("label",null,"参与者姓名：",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":r[4]||(r[4]=function(e){return i.form.participants=e}),placeholder:"请用逗号分隔多个参与者"},null,512),[[o.Jo,i.form.participants]])]),(0,n.Lk)("div",q,[r[15]||(r[15]=(0,n.Lk)("label",null,"关键线索：",-1)),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":r[5]||(r[5]=function(e){return i.form.keyPoints=e}),rows:"4"},null,512),[[o.Jo,i.form.keyPoints]])]),(0,n.Lk)("div",G,[r[16]||(r[16]=(0,n.Lk)("label",null,"复盘总结：",-1)),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":r[6]||(r[6]=function(e){return i.form.summary=e}),rows:"6"},null,512),[[o.Jo,i.form.summary]])]),(0,n.Lk)("div",W,[(0,n.Lk)("button",z,(0,w.v_)(s.isEditing?"保存修改":"添加记录"),1),(0,n.Lk)("button",{type:"button",class:"cancel-btn",onClick:r[7]||(r[7]=function(r){return e.$emit("close")})},"取消")])],32)])])}t(4782),t(1688);const K={name:"AddRecordForm",props:{editRecord:{type:Object,default:null}},data:function(){return{form:{gameName:"",gameTime:this.formatDateForInput(new Date),mood:"",players:"",participants:"",keyPoints:"",summary:""}}},computed:{isEditing:function(){return!!this.editRecord}},methods:{formatDateForInput:function(e){return new Date(e).toISOString().slice(0,16)},submitForm:function(){var e=(0,v.A)((0,v.A)({},this.form),{},{gameTime:new Date(this.form.gameTime).toISOString()});this.isEditing?this.$store.commit("updateRecord",(0,v.A)({id:this.editRecord.id},e)):this.$store.commit("addRecord",e),this.$emit("close"),this.resetForm()},resetForm:function(){this.form={gameName:"",gameTime:this.formatDateForInput(new Date),mood:"",players:"",participants:"",keyPoints:"",summary:""}}},created:function(){this.editRecord&&(this.form=(0,v.A)((0,v.A)({},this.editRecord),{},{gameTime:this.formatDateForInput(new Date(this.editRecord.gameTime))}))}},M=(0,d.A)(K,[["render",H],["__scopeId","data-v-2d30d4f4"]]),Y=M,Z={name:"HomePage",components:{SearchBar:L,GameRecord:P,AddRecordForm:Y},data:function(){return{showAddForm:!1}},computed:(0,v.A)({},(0,h.L8)(["filteredRecords"])),methods:{handleSearch:function(e){this.$store.commit("setSearchQuery",e)},deleteRecord:function(e){this.$store.commit("deleteRecord",e)}}},ee=(0,d.A)(Z,[["render",p],["__scopeId","data-v-7b73f7f5"]]),re=ee;var te=[{path:"/",name:"home",component:re}],oe=(0,l.aE)({history:(0,l.LA)("/"),routes:te});const ne=oe;t(2008),t(8980),t(4423),t(2062),t(4114),t(5086),t(4554),t(9089),t(6099),t(1699),t(8992),t(4520),t(1454),t(7550);const ae=(0,h.y$)({state:{records:[],searchQuery:""},getters:{filteredRecords:function(e){var r,t=(null===(r=e.searchQuery)||void 0===r?void 0:r.toLowerCase())||"";return t?e.records.filter((function(e){var r=[String(e.gameName||""),String(e.mood||""),String(e.players||""),String(e.participants||""),String(e.keyPoints||""),String(e.summary||"")].map((function(e){return e.toLowerCase()}));return r.some((function(e){return e.includes(t)}))})):e.records}},mutations:{setSearchQuery:function(e,r){e.searchQuery=r||""},addRecord:function(e,r){var t=(0,v.A)({id:Date.now(),gameTime:(new Date).toISOString(),gameName:r.gameName||"",mood:r.mood||"",players:r.players||"",participants:r.participants||"",keyPoints:r.keyPoints||"",summary:r.summary||""},r);e.records.push(t)},deleteRecord:function(e,r){var t=e.records.findIndex((function(e){return e.id===r}));-1!==t&&e.records.splice(t,1)}}});var ie=(0,o.Ef)(u);ie.use(ae),ie.use(ne),ie.mount("#app")}},r={};function t(o){var n=r[o];if(void 0!==n)return n.exports;var a=r[o]={exports:{}};return e[o].call(a.exports,a,a.exports,t),a.exports}t.m=e,(()=>{var e=[];t.O=(r,o,n,a)=>{if(!o){var i=1/0;for(u=0;u<e.length;u++){for(var[o,n,a]=e[u],s=!0,d=0;d<o.length;d++)(!1&a||i>=a)&&Object.keys(t.O).every((e=>t.O[e](o[d])))?o.splice(d--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var c=n();void 0!==c&&(r=c)}}return r}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,n,a]}})(),(()=>{t.n=e=>{var r=e&&e.__esModule?()=>e["default"]:()=>e;return t.d(r,{a:r}),r}})(),(()=>{t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r)})(),(()=>{var e={524:0};t.O.j=r=>0===e[r];var r=(r,o)=>{var n,a,[i,s,d]=o,c=0;if(i.some((r=>0!==e[r]))){for(n in s)t.o(s,n)&&(t.m[n]=s[n]);if(d)var u=d(t)}for(r&&r(o);c<i.length;c++)a=i[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(u)},o=self["webpackChunkscript_review"]=self["webpackChunkscript_review"]||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))})();var o=t.O(void 0,[504],(()=>t(3960)));o=t.O(o)})();
//# sourceMappingURL=app.ebef76e3.js.map